module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},88947,(a,b,c)=>{b.exports=a.x("stream",()=>require("stream"))},92509,(a,b,c)=>{b.exports=a.x("url",()=>require("url"))},22734,(a,b,c)=>{b.exports=a.x("fs",()=>require("fs"))},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},46786,(a,b,c)=>{b.exports=a.x("os",()=>require("os"))},6461,(a,b,c)=>{b.exports=a.x("zlib",()=>require("zlib"))},27699,(a,b,c)=>{b.exports=a.x("events",()=>require("events"))},60588,a=>{"use strict";let b=(0,a.i(20391).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],60588)},64374,a=>{"use strict";let b=(0,a.i(20391).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],64374)},3107,a=>{"use strict";var b=a.i(13568),c=a.i(98924),d=a.i(86550),e=a.i(60588),f=a.i(20391);let g=(0,f.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var h=a.i(64374);let i=(0,f.default)("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]]),j=(0,f.default)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]),k=(0,f.default)("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]);var l=a.i(27063),m=a.i(51877);let n=()=>{let a,f,n=(0,d.useSearchParams)().get("id"),o=(0,d.useRouter)(),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(0),[v,w]=(0,c.useState)({}),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)(0),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!1),F=(0,c.useRef)(null);(0,c.useEffect)(()=>(n&&G(),()=>clearInterval(F.current)),[n]),(0,c.useEffect)(()=>(z>0&&(F.current=setInterval(()=>{A(a=>a<=1?(clearInterval(F.current),H(!0),0):a-1)},1e3)),()=>clearInterval(F.current)),[z]);let G=async()=>{try{let a=(await l.default.get(`${m.API_BASE_URL}/api/tests/${n}`)).data.data;q(a),A(60*a.duration)}catch(a){alert("Error loading test")}finally{s(!1)}},H=async(a=!1)=>{if(a||confirm("Are you sure you want to submit the test?")){E(!0);try{let a=(await l.default.post(`${m.API_BASE_URL}/api/results/submit`,{testId:n,answers:v,studentId:null})).data.data;o.push(`/student/test-result?id=${n}&score=${a.score}&total=${a.totalMarks}&correct=${a.correctAnswers}&incorrect=${a.incorrectAnswers}`)}catch(a){console.error(a),alert("Error submitting test"),E(!1)}}};if(r)return(0,b.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:"Loading Test..."});let I=p?.questions[t];return(0,b.jsxs)("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[(0,b.jsxs)("header",{className:"h-16 border-b border-zinc-800 bg-zinc-900/50 flex items-center justify-between px-6 backdrop-blur-md sticky top-0 z-50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("h1",{className:"font-bold text-lg truncate max-w-[200px] sm:max-w-md",children:p.title}),(0,b.jsxs)("span",{className:"text-xs font-medium bg-zinc-800 px-2 py-1 rounded text-gray-400",children:["Q ",t+1," / ",p.questions.length]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsxs)("div",{className:`flex items-center gap-2 font-mono text-xl font-bold ${z<300?"text-red-500 animate-pulse":"text-green-400"}`,children:[(0,b.jsx)(e.Clock,{size:20}),(a=Math.floor(z/3600),f=Math.floor(z%3600/60),`${a}:${f.toString().padStart(2,"0")}:${(z%60).toString().padStart(2,"0")}`)]}),(0,b.jsx)("button",{onClick:()=>{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),C(!1)):(document.documentElement.requestFullscreen(),C(!0))},className:"p-2 hover:bg-zinc-800 rounded-lg transition-colors hidden sm:block",children:B?(0,b.jsx)(k,{size:20}):(0,b.jsx)(j,{size:20})}),(0,b.jsx)("button",{onClick:()=>H(!1),disabled:D,className:"bg-green-600 hover:bg-green-500 text-white px-6 py-2 rounded-lg font-bold text-sm transition-colors disabled:opacity-50",children:D?"Submitting...":"Submit Test"})]})]}),(0,b.jsxs)("main",{className:"flex-1 flex overflow-hidden",children:[(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-6 lg:p-12",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsxs)("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl p-8 mb-8",children:[(0,b.jsx)("h2",{className:"text-xl font-medium leading-relaxed mb-8",children:I.questionText}),(0,b.jsx)("div",{className:"space-y-4",children:I.options.map((a,c)=>(0,b.jsxs)("div",{onClick:()=>{w({...v,[t]:c})},className:`p-4 rounded-xl border cursor-pointer transition-all flex items-center gap-4 ${v[t]===c?"bg-blue-600/20 border-blue-500":"bg-zinc-950 border-zinc-800 hover:bg-zinc-800"}`,children:[(0,b.jsx)("div",{className:`w-6 h-6 rounded-full border flex items-center justify-center text-xs font-bold ${v[t]===c?"bg-blue-500 border-blue-500 text-white":"border-gray-500 text-gray-500"}`,children:String.fromCharCode(65+c)}),(0,b.jsx)("span",{className:"text-gray-200",children:a})]},c))})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("button",{onClick:()=>u(a=>Math.max(0,a-1)),disabled:0===t,className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-zinc-800 hover:bg-zinc-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium border border-zinc-700",children:[(0,b.jsx)(g,{size:20})," Previous"]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:()=>{x.includes(t)?y(x.filter(a=>a!==t)):y([...x,t])},className:`flex items-center gap-2 px-6 py-3 rounded-xl border transition-colors font-medium ${x.includes(t)?"bg-orange-500/20 border-orange-500 text-orange-400":"bg-zinc-800 border-zinc-700 text-gray-300 hover:bg-zinc-700"}`,children:[(0,b.jsx)(i,{size:18})," ",x.includes(t)?"Unmark":"Mark Review"]}),(0,b.jsx)("button",{onClick:()=>w({...v,[t]:void 0}),className:"px-6 py-3 rounded-xl bg-zinc-800 border border-zinc-700 hover:bg-zinc-700 text-gray-300 transition-colors font-medium",children:"Clear"})]}),(0,b.jsxs)("button",{onClick:()=>u(a=>Math.min(p.questions.length-1,a+1)),disabled:t===p.questions.length-1,className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-blue-600 hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium text-white",children:["Next ",(0,b.jsx)(h.ChevronRight,{size:20})]})]})]})}),(0,b.jsxs)("div",{className:"w-80 bg-zinc-900 border-l border-zinc-800 p-6 hidden lg:flex flex-col",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-300 mb-6",children:"Question Palette"}),(0,b.jsx)("div",{className:"grid grid-cols-5 gap-3 mb-8 max-h-[60vh] overflow-y-auto content-start",children:p.questions.map((a,c)=>{let d="bg-zinc-800 text-gray-400 border-zinc-700";return t===c?d="ring-2 ring-white bg-zinc-800 border-zinc-600":x.includes(c)?d="bg-orange-500 text-white border-orange-600":void 0!==v[c]&&(d="bg-green-600 text-white border-green-700"),(0,b.jsx)("button",{onClick:()=>u(c),className:`w-10 h-10 rounded-lg flex items-center justify-center font-bold text-sm border transition-all ${d}`,children:c+1},c)})}),(0,b.jsxs)("div",{className:"mt-auto space-y-3 p-4 bg-zinc-950/50 rounded-xl border border-zinc-800 text-xs",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-600"})," ",(0,b.jsx)("span",{className:"text-gray-400",children:"Answered"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full bg-orange-500"})," ",(0,b.jsx)("span",{className:"text-gray-400",children:"Marked for Review"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full bg-zinc-800 border border-zinc-700"})," ",(0,b.jsx)("span",{className:"text-gray-400",children:"Not Visited"})]})]})]})]})]})};a.s(["default",0,()=>(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:"Loading Test Interface..."}),children:(0,b.jsx)(n,{})})],3107)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__c02c9435._.js.map