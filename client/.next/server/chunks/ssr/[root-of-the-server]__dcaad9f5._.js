module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},57557,a=>{"use strict";let b=(0,a.i(20391).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],57557)},42942,a=>{"use strict";let b=(0,a.i(20391).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);a.s(["Mail",()=>b],42942)},63393,a=>{"use strict";let b=(0,a.i(20391).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);a.s(["Phone",()=>b],63393)},28415,a=>{"use strict";let b=(0,a.i(20391).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],28415)},60667,a=>{"use strict";let b=(0,a.i(20391).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],60667)},79562,a=>{"use strict";let b=(0,a.i(20391).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],79562)},74489,a=>{"use strict";let b=(0,a.i(20391).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],74489)},65292,a=>{"use strict";var b=a.i(13568),c=a.i(98924),d=a.i(6725),e=a.i(79562),f=a.i(60667),g=a.i(28415),h=a.i(74489),i=a.i(42942),j=a.i(63393),k=a.i(57557),l=a.i(83186),m=a.i(27063),n=a.i(51877);a.s(["default",0,()=>{let[a,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)({name:"",email:"",password:"",phone:""}),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)([]),[F,G]=(0,c.useState)({course_id:"",expires_at:""});(0,c.useEffect)(()=>{J(),H()},[]);let H=async()=>{try{let a=await m.default.get(`${n.API_BASE_URL}/api/courses`);a.data&&Array.isArray(a.data.data)&&E(a.data.data)}catch(a){console.error("Error fetching courses for assignment dropdown",a)}},I=async()=>{if(B&&F.course_id){y(!0);try{await m.default.post(`${n.API_BASE_URL}/api/assignments`,{user_id:B._id||B.id,course_id:F.course_id,expires_at:F.expires_at}),alert("Course assigned successfully!"),A(!1)}catch(a){alert("Failed to assign course")}finally{y(!1)}}},J=async()=>{try{let a=await m.default.get(`${n.API_BASE_URL}/api/users`);Array.isArray(a.data)?o(a.data):(console.error("API Error or Invalid Format:",a.data),o([]))}catch(a){console.error("Error fetching students:",a)}finally{q(!1)}},K=async(b,c)=>{try{let d=!c;await m.default.put(`${n.API_BASE_URL}/api/users`,{id:b,is_approved:+!!d}),o(a.map(a=>a._id===b?{...a,is_approved:d}:a))}catch(a){console.error("Error updating status",a),alert("Failed to update status")}},L=async b=>{if(confirm("Are you sure you want to delete this student?"))try{await m.default.delete(`${n.API_BASE_URL}/api/users/${b}`),o(a.filter(a=>a._id!==b))}catch(a){alert("Error deleting student")}},M=async b=>{b.preventDefault(),y(!0);try{let b=await m.default.post(`${n.API_BASE_URL}/api/users`,v);o([b.data,...a]),u(!1),w({name:"",email:"",password:"",phone:""})}catch(a){alert("Error adding student")}finally{y(!1)}},N=Array.isArray(a)?a.filter(a=>(a.name||"").toLowerCase().includes(r.toLowerCase())||(a.email||"").toLowerCase().includes(r.toLowerCase())):[];return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Students"}),(0,b.jsx)("p",{className:"text-gray-400 mt-1",children:"Manage student enrollments and accounts"})]}),(0,b.jsxs)("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-xl font-medium transition-colors",children:[(0,b.jsx)(f.Plus,{size:20}),"Add Student"]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(e.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),(0,b.jsx)("input",{type:"text",placeholder:"Search students by name or email...",value:r,onChange:a=>{s(a.target.value)},className:"w-full bg-zinc-900/50 border border-zinc-800 rounded-xl py-3 pl-12 pr-4 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"})]}),(0,b.jsx)("div",{className:"bg-zinc-900/50 border border-zinc-800 rounded-2xl overflow-hidden backdrop-blur-sm",children:p?(0,b.jsx)("div",{className:"p-12 flex justify-center",children:(0,b.jsx)(k.Loader2,{className:"w-8 h-8 animate-spin text-blue-500"})}):0===N.length?(0,b.jsx)("div",{className:"p-12 text-center text-gray-500",children:"No students found."}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{className:"bg-zinc-900/80 border-b border-zinc-800 text-gray-400 text-xs uppercase tracking-wider",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Name"}),(0,b.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Contact"}),(0,b.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Enrolled Date"}),(0,b.jsx)("th",{className:"px-6 py-4 font-semibold text-right",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-zinc-800",children:N.map(a=>(0,b.jsxs)(d.motion.tr,{initial:{opacity:0},animate:{opacity:1},className:"hover:bg-zinc-800/30 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center text-gray-400 font-bold shrink-0",children:(a.name||"U").charAt(0).toUpperCase()}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-white",children:a.name||"Unknown"}),(0,b.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",String(a._id||"").slice(-6)]})]})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex flex-col gap-1 text-sm text-gray-300",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Mail,{size:14,className:"text-gray-500"}),a.email]}),a.phone&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(j.Phone,{size:14,className:"text-gray-500"}),a.phone]})]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-400",children:new Date(a.createdAt||a.created_at||Date.now()).toLocaleDateString()}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,b.jsx)("button",{onClick:()=>K(a._id,a.is_approved),className:`px-3 py-1 rounded-full text-xs font-bold transition-all ${a.is_approved?"bg-green-500/10 text-green-400 hover:bg-green-500/20":"bg-yellow-500/10 text-yellow-400 hover:bg-yellow-500/20"}`,children:a.is_approved?"Active":"Pending"}),(0,b.jsx)("button",{onClick:()=>{C(a),G({course_id:"",expires_at:""}),A(!0)},className:"p-2 text-gray-400 hover:text-green-400 hover:bg-green-500/10 rounded-lg transition-colors",title:"Assign Course",children:(0,b.jsx)(l.BookOpen,{size:16})}),(0,b.jsx)("button",{className:"p-2 text-gray-400 hover:text-blue-400 hover:bg-blue-500/10 rounded-lg transition-colors",children:(0,b.jsx)(h.Edit,{size:16})}),(0,b.jsx)("button",{onClick:()=>L(a._id),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:(0,b.jsx)(g.Trash2,{size:16})})]})})]},a._id))})]})})}),t&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-zinc-900 border border-zinc-800 rounded-2xl w-full max-w-lg p-6 shadow-2xl",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:"Add New Student"}),(0,b.jsxs)("form",{onSubmit:M,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Full Name"}),(0,b.jsx)("input",{type:"text",required:!0,className:"w-full bg-zinc-950 border border-zinc-800 rounded-xl px-4 py-2 text-white focus:outline-none focus:border-blue-500",value:v.name,onChange:a=>w({...v,name:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Email"}),(0,b.jsx)("input",{type:"email",required:!0,className:"w-full bg-zinc-950 border border-zinc-800 rounded-xl px-4 py-2 text-white focus:outline-none focus:border-blue-500",value:v.email,onChange:a=>w({...v,email:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Phone"}),(0,b.jsx)("input",{type:"tel",className:"w-full bg-zinc-950 border border-zinc-800 rounded-xl px-4 py-2 text-white focus:outline-none focus:border-blue-500",value:v.phone,onChange:a=>w({...v,phone:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Password"}),(0,b.jsx)("input",{type:"password",required:!0,className:"w-full bg-zinc-950 border border-zinc-800 rounded-xl px-4 py-2 text-white focus:outline-none focus:border-blue-500",value:v.password,onChange:a=>w({...v,password:a.target.value})})]}),(0,b.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,b.jsx)("button",{type:"button",onClick:()=>u(!1),className:"flex-1 py-2 rounded-xl bg-zinc-800 text-gray-300 hover:bg-zinc-700 transition-colors",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:x,className:"flex-1 py-2 rounded-xl bg-blue-600 text-white font-medium hover:bg-blue-500 transition-colors disabled:opacity-50",children:x?"Adding...":"Add Student"})]})]})]})}),z&&B&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-zinc-900 border border-zinc-800 rounded-2xl w-full max-w-lg p-6 shadow-2xl",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"Assign Course"}),(0,b.jsxs)("p",{className:"text-gray-400 mb-6",children:["Assign a course to ",(0,b.jsx)("span",{className:"text-white font-medium",children:B.name})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Select Course"}),(0,b.jsxs)("select",{className:"w-full bg-zinc-950 border border-zinc-800 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-blue-500",onChange:a=>G({...F,course_id:a.target.value}),value:F.course_id,children:[(0,b.jsx)("option",{value:"",children:"-- Choose a Course --"}),D.map(a=>(0,b.jsx)("option",{value:a.id||a._id,children:a.title},a.id||a._id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Expiry Date (Optional)"}),(0,b.jsx)("input",{type:"date",className:"w-full bg-zinc-950 border border-zinc-800 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-blue-500 [color-scheme:dark]",value:F.expires_at,onChange:a=>G({...F,expires_at:a.target.value})}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank for lifetime access."})]}),(0,b.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,b.jsx)("button",{type:"button",onClick:()=>A(!1),className:"flex-1 py-2 rounded-xl bg-zinc-800 text-gray-300 hover:bg-zinc-700 transition-colors",children:"Cancel"}),(0,b.jsx)("button",{type:"button",onClick:I,disabled:x||!F.course_id,className:"flex-1 py-2 rounded-xl bg-blue-600 text-white font-medium hover:bg-blue-500 transition-colors disabled:opacity-50",children:x?"Assigning...":"Assign Course"})]})]})]})})]})}])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__dcaad9f5._.js.map